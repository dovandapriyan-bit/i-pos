<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Pos - Restoran & Cafe Management System</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    



<div class="app-container">
    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h1><i data-lucide="coffee"></i> E-Pos</h1>
            <div class="company-name">DNT Network Cafe</div>
        </div>
        <ul class="sidebar-menu" id="sidebarMenu">
            <li><a href="#" class="nav-link active" data-page="dashboard"><i data-lucide="layout-dashboard"></i> Dashboard</a></li>
            <li><a href="#" class="nav-link" data-page="pos"><i data-lucide="shopping-cart"></i> Kasir</a></li>
            <li>
                <a href="#" class="nav-link" data-page="kds">
                    <i data-lucide="chef-hat"></i> Dapur
                    <span class="notification-badge" id="kds-notification" style="display: none;">0</span>
                </a>
            </li>
            <li><a href="#" class="nav-link" data-page="order-status"><i data-lucide="clock"></i> Status Pesanan</a></li>
            <li><a href="#" class="nav-link" data-page="table-selection"><i data-lucide="square-stack"></i> Pilih Meja</a></li>
            <li><a href="#" class="nav-link" data-page="table-order"><i data-lucide="smartphone"></i> Pesan via Meja</a></li>
            <li><a href="#" class="nav-link" data-page="ride-hailing"><i data-lucide="truck"></i> Ojek Online</a></li>
            <li><a href="#" class="nav-link" data-page="menu-management"><i data-lucide="utensils"></i> Kelola Menu</a></li>
            <li><a href="#" class="nav-link" data-page="table-management"><i data-lucide="table"></i> Manajemen Meja</a></li>
            <li><a href="#" class="nav-link" data-page="order-history"><i data-lucide="file-text"></i> Riwayat Pesanan</a></li>
            <li><a href="#" class="nav-link" data-page="user-management"><i data-lucide="users"></i> Kelola Pengguna</a></li>
            <li><a href="#" class="nav-link" data-page="inventory"><i data-lucide="package"></i> Manajemen Barang</a></li>
            <li><a href="#" class="nav-link" data-page="asset"><i data-lucide="briefcase"></i> Manajemen Aset</a></li>
            <li><a href="#" class="nav-link" data-page="financial"><i data-lucide="dollar-sign"></i> Keuangan</a></li>
            <li><a href="#" class="nav-link" data-page="payroll"><i data-lucide="credit-card"></i> Penggajian</a></li>
            <li><a href="#" class="nav-link" data-page="shift"><i data-lucide="calendar"></i> Shift</a></li>
            <li><a href="#" class="nav-link" data-page="branch"><i data-lucide="map-pin"></i> Multi Cabang</a></li>
            <li><a href="#" class="nav-link" data-page="license"><i data-lucide="crown"></i> Lisensi</a></li>
        </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <!-- TOPBAR -->
        <header class="topbar">
            <div class="topbar-title" id="topbarTitle">Dashboard</div>
            <div class="topbar-actions">
                <div class="user-dropdown">
                    <div class="user-info" onclick="toggleUserDropdown()">
                        <div class="user-avatar" id="userAvatar">A</div>
                        <span id="userName">Admin</span>
                        <span class="subscription-status status-trial" id="subscriptionStatus">Trial</span>
                        <i data-lucide="chevron-down" style="width: 16px; height: 16px;"></i>
                    </div>
                    <div class="user-dropdown-menu" id="userDropdownMenu">
                        <div class="user-dropdown-item active" onclick="switchUser(1)">
                            <i data-lucide="shield"></i>
                            <span>Admin</span>
                        </div>
                        <div class="user-dropdown-item" onclick="switchUser(2)">
                            <i data-lucide="crown"></i>
                            <span>Owner</span>
                        </div>
                        <div class="user-dropdown-item" onclick="switchUser(3)">
                            <i data-lucide="shopping-cart"></i>
                            <span>Kasir</span>
                        </div>
                        <div class="user-dropdown-item" onclick="switchUser(4)">
                            <i data-lucide="chef-hat"></i>
                            <span>Dapur</span>
                        </div>
                        <div class="user-dropdown-item" onclick="switchUser(5)">
                            <i data-lucide="user"></i>
                            <span>Pelanggan</span>
                        </div>
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="toggleSidebar()"><i data-lucide="menu"></i></button>
            </div>
        </header>

        <!-- CONTENT AREA -->
        <div class="content-area" id="contentArea">
            <!-- DASHBOARD PAGE -->
            <div class="page active" id="dashboard-page">
                <div class="license-activation">
                    <div class="license-activation-header">
                        <div class="license-activation-title">Status Lisensi</div>
                        <div class="license-activation-status status-trial">Trial</div>
                    </div>
                    <div class="trial-info">
                        <div class="trial-days" id="trial-days-left">7</div>
                        <div class="trial-text">hari tersisa dalam masa trial</div>
                    </div>
                    <div class="license-input-group">
                        <input type="text" class="form-group license-input" id="license-key-input" placeholder="Masukkan kode lisensi">
                        <button class="btn btn-primary" onclick="activateLicense()">Aktivasi</button>
                    </div>
                </div>

                <div class="kpi-grid">
                    <div class="kpi-card">
                        <p id="kpi-revenue">Rp 0</p>
                        <h3>Penjualan Hari Ini</h3>
                    </div>
                    <div class="kpi-card">
                        <p id="kpi-orders">0</p>
                        <h3>Total Pesanan</h3>
                    </div>
                    <div class="kpi-card">
                        <p id="kpi-active">0</p>
                        <h3>Pesanan Aktif</h3>
                    </div>
                    <div class="kpi-card">
                        <p id="kpi-items">0</p>
                        <h3>Item Terjual</h3>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">Pesanan Terbaru</div>
                    <div id="recent-orders-list"></div>
                </div>
            </div>

            <!-- POS PAGE -->
            <div class="page" id="pos-page">
                <div class="pos-layout">
                    <div class="pos-menu-container card">
                        <div class="card-header">
                            <span>Menu</span>
                            <select id="pos-table-select" class="form-group" style="width: 150px; margin:0;">
                                <option value="0">Take Away</option>
                                <option value="1">Meja 1</option>
                                <option value="2">Meja 2</option>
                                <option value="3">Meja 3</option>
                                <option value="4">Meja 4</option>
                                <option value="5">Meja 5</option>
                                <option value="6">Meja 6</option>
                            </select>
                        </div>
                        <div class="pos-categories" id="pos-categories"></div>
                        <div class="pos-menu-grid" id="pos-menu-grid"></div>
                    </div>
                    <div class="pos-cart-container card">
                        <div class="card-header">
                            <span>Keranjang</span>
                            <button class="btn btn-danger" onclick="clearCurrentOrder()">Batal</button>
                        </div>
                        <div class="pos-cart" id="pos-cart"></div>
                        <div class="pos-summary">
                            <div class="pos-summary-row"><span>Subtotal</span><span id="pos-subtotal">Rp 0</span></div>
                            <div class="pos-summary-row"><span>Pajak (10%)</span><span id="pos-tax">Rp 0</span></div>
                            <div class="pos-summary-row total"><span>Total</span><span id="pos-total">Rp 0</span></div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="openPaymentModal()">Bayar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KDS PAGE -->
            <div class="page" id="kds-page">
                <div class="card-header">Daftar Pesanan Dapur</div>
                <div style="margin-bottom: 1rem;">
                    <button class="btn btn-warning" onclick="openStockUpdateModal()">
                        <i data-lucide="alert-triangle"></i> Update Stok Menu Habis
                    </button>
                </div>
                <div class="kds-grid" id="kds-orders-grid"></div>
            </div>

            <!-- ORDER STATUS PAGE -->
            <div class="page" id="order-status-page">
                <div class="order-status-container">
                    <div class="card">
                        <div class="card-header">Cek Status Pesanan</div>
                        <div class="form-group">
                            <label>Nomor Pesanan</label>
                            <input type="text" id="order-id-input" placeholder="Masukkan nomor pesanan">
                        </div>
                        <button class="btn btn-primary" onclick="checkOrderStatus()">Cek Status</button>
                    </div>
                    <div id="order-status-result"></div>
                </div>
            </div>

            <!-- TABLE SELECTION PAGE -->
            <div class="page" id="table-selection-page">
                <div class="card">
                    <div class="card-header">Pilih Meja</div>
                    <div class="table-grid" id="table-grid"></div>
                </div>
            </div>

            <!-- TABLE ORDER PAGE -->
            <div class="page" id="table-order-page">
                <div class="table-order-layout">
                    <div>
                        <div class="card">
                            <div class="card-header">
                                <span>Pesan di Meja</span>
                                <select id="table-order-select" class="form-group" style="width: 150px;" onchange="updateTableOrder()">
                                    <option value="1">Meja 1</option>
                                    <option value="2">Meja 2</option>
                                    <option value="3">Meja 3</option>
                                    <option value="4">Meja 4</option>
                                    <option value="5">Meja 5</option>
                                    <option value="6">Meja 6</option>
                                </select>
                            </div>
                            
                            <div class="pos-categories" id="table-categories"></div>
                            <div class="pos-menu-grid" id="table-menu-grid"></div>
                        </div>
                        
                        <!-- Daftar Pesanan untuk Meja Ini -->
                        <div class="table-orders-section">
                            <div class="card-header">Pesanan Aktif Meja <span id="current-table-number">1</span></div>
                            <div id="table-active-orders"></div>
                        </div>
                    </div>
                    
                    <div class="pos-cart-container card">
                        <div class="card-header">
                            <span>Keranjang Meja <span id="cart-table-number">1</span></span>
                        </div>
                        <div class="pos-cart" id="table-cart"></div>
                        <div class="pos-summary">
                            <div class="pos-summary-row total"><span>Total</span><span id="table-total">Rp 0</span></div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="submitTableOrder()">Kirim Pesanan ke Dapur</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIDE HAILING PAGE -->
            <div class="page" id="ride-hailing-page">
                <div class="card">
                    <div class="card-header">Input Pesanan Ojek Online</div>
                    <form id="ride-hailing-form" onsubmit="createRideHailingOrder(event)">
                        <div class="grid grid-cols-2">
                            <div class="form-group">
                                <label>Platform</label>
                                <select name="platform" required>
                                    <option value="Gojek">Gojek</option>
                                    <option value="Grab">Grab</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ID Driver / Nama</label>
                                <input type="text" name="driverName" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Pesanan (pisahkan dengan koma)</label>
                            <input type="text" name="orderItems" placeholder="contoh: 2x Nasi Goreng, 1x Es Teh" required>
                        </div>
                        <div class="form-group">
                            <label>Prioritas</label>
                            <select name="priority">
                                <option value="normal">Normal</option>
                                <option value="high">Tinggi</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Buat Pesanan</button>
                    </form>
                </div>
            </div>

            <!-- MENU MANAGEMENT PAGE -->
            <div class="page" id="menu-management-page">
                <div class="card">
                    <div class="card-header">
                        <span>Kelola Menu</span>
                        <button class="btn btn-primary" onclick="openMenuModal()">Tambah Menu</button>
                    </div>
                    <div id="menu-list"></div>
                </div>
            </div>

            <!-- TABLE MANAGEMENT PAGE -->
            <div class="page" id="table-management-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Meja</span>
                        <button class="btn btn-primary" onclick="openTableModal()">Tambah Meja</button>
                    </div>
                    <div class="table-management-grid" id="table-management-grid"></div>
                </div>
            </div>

            <!-- ORDER HISTORY PAGE -->
            <div class="page" id="order-history-page">
                <div class="card">
                    <div class="card-header">
                        <span>Riwayat Pesanan</span>
                        <button class="btn btn-secondary" onclick="exportOrderHistory()">Export Data</button>
                    </div>
                    <div class="history-filters">
                        <div class="form-group" style="width: 200px;">
                            <label>Dari Tanggal</label>
                            <input type="date" id="filter-date-from">
                        </div>
                        <div class="form-group" style="width: 200px;">
                            <label>Sampai Tanggal</label>
                            <input type="date" id="filter-date-to">
                        </div>
                        <div class="form-group" style="width: 150px;">
                            <label>&nbsp;</label>
                            <button class="btn btn-primary" onclick="filterOrderHistory()">Filter</button>
                        </div>
                    </div>
                    
                    <!-- Sales Chart -->
                    <div class="card" style="margin-top: 1.5rem;">
                        <div class="card-header">Grafik Penjualan</div>
                        <div class="chart-container">
                            <canvas id="sales-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Best Selling Items -->
                    <div class="card" style="margin-top: 1.5rem;">
                        <div class="card-header">Menu Terlaris</div>
                        <div id="best-selling-items"></div>
                    </div>
                    
                    <div class="table-container">
                        <table class="history-table">
                            <thead>
                                <tr>
                                    <th>ID Pesanan</th>
                                    <th>Tanggal</th>
                                    <th>Meja</th>
                                    <th>Tipe</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="history-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- USER MANAGEMENT PAGE -->
            <div class="page" id="user-management-page">
                <div class="card">
                    <div class="card-header">
                        <span>Kelola Pengguna</span>
                        <button class="btn btn-primary" onclick="openUserModal()">Tambah Pengguna</button>
                    </div>
                    <div id="user-list"></div>
                </div>
            </div>

            <!-- INVENTORY PAGE -->
            <div class="page" id="inventory-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Barang/Bahan</span>
                        <button class="btn btn-primary" onclick="openInventoryModal()">Tambah Barang</button>
                    </div>
                    
                    <!-- Low Stock Alert -->
                    <div id="low-stock-alerts"></div>
                    
                    <!-- Category Tabs -->
                    <div class="category-tabs" id="inventory-category-tabs">
                        <button class="category-tab active" onclick="filterInventoryByCategory('all', this)">Semua</button>
                        <button class="category-tab" onclick="filterInventoryByCategory('Makanan', this)">Makanan</button>
                        <button class="category-tab" onclick="filterInventoryByCategory('Minuman', this)">Minuman</button>
                        <button class="category-tab" onclick="filterInventoryByCategory('Bahan Baku', this)">Bahan Baku</button>
                        <button class="category-tab" onclick="filterInventoryByCategory('Peralatan', this)">Peralatan</button>
                    </div>
                    
                    <div class="inventory-grid" id="inventory-grid"></div>
                </div>
            </div>

            <!-- ASSET PAGE -->
            <div class="page" id="asset-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Aset Perusahaan</span>
                        <button class="btn btn-primary" onclick="openAssetModal()">Tambah Aset</button>
                    </div>
                    
                    <!-- Category Tabs -->
                    <div class="category-tabs" id="asset-category-tabs">
                        <button class="category-tab active" onclick="filterAssetsByCategory('all', this)">Semua</button>
                        <button class="category-tab" onclick="filterAssetsByCategory('Peralatan Dapur', this)">Peralatan Dapur</button>
                        <button class="category-tab" onclick="filterAssetsByCategory('Furniture', this)">Furniture</button>
                        <button class="category-tab" onclick="filterAssetsByCategory('Elektronik', this)">Elektronik</button>
                        <button class="category-tab" onclick="filterAssetsByCategory('Kendaraan', this)">Kendaraan</button>
                        <button class="category-tab" onclick="filterAssetsByCategory('Lainnya', this)">Lainnya</button>
                    </div>
                    
                    <div class="asset-grid" id="asset-grid"></div>
                </div>
            </div>

            <!-- FINANCIAL PAGE -->
            <div class="page" id="financial-page">
                <div class="financial-summary">
                    <div class="financial-card">
                        <div class="financial-card-header">
                            <div class="financial-card-title">Pendapatan Bulan Ini</div>
                            <i data-lucide="trending-up" style="color: var(--accent-success);"></i>
                        </div>
                        <div class="financial-card-value" id="monthly-revenue">Rp 0</div>
                        <div class="financial-card-change positive">
                            <i data-lucide="arrow-up"></i>
                            <span>0% dari bulan lalu</span>
                        </div>
                    </div>
                    <div class="financial-card">
                        <div class="financial-card-header">
                            <div class="financial-card-title">Pengeluaran Bulan Ini</div>
                            <i data-lucide="trending-down" style="color: var(--accent-danger);"></i>
                        </div>
                        <div class="financial-card-value" id="monthly-expenses">Rp 0</div>
                        <div class="financial-card-change negative">
                            <i data-lucide="arrow-up"></i>
                            <span>0% dari bulan lalu</span>
                        </div>
                    </div>
                    <div class="financial-card">
                        <div class="financial-card-header">
                            <div class="financial-card-title">Laba Bersih</div>
                            <i data-lucide="dollar-sign" style="color: var(--accent-primary);"></i>
                        </div>
                        <div class="financial-card-value" id="net-profit">Rp 0</div>
                        <div class="financial-card-change positive">
                            <i data-lucide="arrow-up"></i>
                            <span>0% dari bulan lalu</span>
                        </div>
                    </div>
                    <div class="financial-card">
                        <div class="financial-card-header">
                            <div class="financial-card-title">Total Transaksi</div>
                            <i data-lucide="receipt" style="color: var(--accent-secondary);"></i>
                        </div>
                        <div class="financial-card-value" id="total-transactions">0</div>
                        <div class="financial-card-change positive">
                            <i data-lucide="arrow-up"></i>
                            <span>0% dari bulan lalu</span>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2">
                    <div class="card">
                        <div class="card-header">Laporan Keuangan</div>
                        <div class="chart-container">
                            <canvas id="financial-chart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">Kategori Pengeluaran</div>
                        <div class="chart-container">
                            <canvas id="expense-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>Transaksi Terbaru</span>
                        <button class="btn btn-primary" onclick="openTransactionModal()">Tambah Transaksi</button>
                    </div>
                    <div id="transaction-list"></div>
                </div>
            </div>

            <!-- PAYROLL PAGE -->
            <div class="page" id="payroll-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Penggajian</span>
                        <button class="btn btn-primary" onclick="openPayrollModal()">Tambah Gaji</button>
                    </div>
                    <div class="payroll-grid" id="payroll-grid"></div>
                </div>
            </div>

            <!-- SHIFT PAGE -->
            <div class="page" id="shift-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Shift</span>
                        <button class="btn btn-primary" onclick="openShiftModal()">Tambah Shift</button>
                    </div>
                    <div class="shift-grid" id="shift-grid"></div>
                </div>
            </div>

            <!-- BRANCH PAGE -->
            <div class="page" id="branch-page">
                <div class="card">
                    <div class="card-header">
                        <span>Manajemen Multi Cabang</span>
                        <button class="btn btn-primary" onclick="openBranchModal()">Tambah Cabang</button>
                    </div>
                    <div class="branch-grid" id="branch-grid"></div>
                </div>
            </div>

            <!-- LICENSE PAGE -->
            <div class="page" id="license-page">
                <div class="license-card">
                    <div class="card-header" style="border-bottom: 1px solid rgba(255,255,255,0.3); color: white;">
                        <span>Status Lisensi</span>
                        <span class="subscription-status status-trial">TRIAL</span>
                    </div>
                    <div class="license-info-grid">
                        <div class="license-info-item">
                            <h4>Paket</h4>
                            <p id="license-plan">Trial</p>
                        </div>
                        <div class="license-info-item">
                            <h4>Berlaku Hingga</h4>
                            <p id="license-expiry">-</p>
                        </div>
                        <div class="license-info-item">
                            <h4>Sisa Hari</h4>
                            <p id="license-days-left">7 Hari</p>
                        </div>
                        <div class="license-info-item">
                            <h4>Maksimal Pengguna</h4>
                            <p id="license-max-users">3 Users</p>
                        </div>
                    </div>
                    <div class="license-actions">
                        <button class="btn btn-primary" onclick="openUpgradeModal()">
                            <i data-lucide="crown"></i> Upgrade Paket
                        </button>
                        <button class="btn btn-secondary" onclick="showLicenseKey()">
                            <i data-lucide="key"></i> Lihat Kunci Lisensi
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Aktivasi Lisensi</div>
                    <div class="form-group">
                        <label>Masukkan Kode Lisensi</label>
                        <input type="text" id="license-activation-input" placeholder="Masukkan kode lisensi Anda">
                    </div>
                    <button class="btn btn-primary" onclick="activateLicense()">Aktivasi</button>
                </div>

                <div class="card">
                    <div class="card-header">Statistik Penggunaan</div>
                    <div class="license-info-grid">
                        <div class="license-info-item" style="background: var(--bg-tertiary);">
                            <h4>Pengguna Aktif</h4>
                            <p id="active-users-count">1/3</p>
                        </div>
                        <div class="license-info-item" style="background: var(--bg-tertiary);">
                            <h4>Meja Terpakai</h4>
                            <p id="used-tables-count">3/6</p>
                        </div>
                        <div class="license-info-item" style="background: var(--bg-tertiary);">
                            <h4>Pesanan Bulan Ini</h4>
                            <p id="monthly-orders">0</p>
                        </div>
                        <div class="license-info-item" style="background: var(--bg-tertiary);">
                            <h4>Pendapatan Bulan Ini</h4>
                            <p id="monthly-revenue">Rp 0</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Riwayat Transaksi</div>
                    <div class="transaction-history" id="transaction-history">
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Paket Langganan</div>
                    <div class="grid grid-cols-3" id="subscription-plans">
                    </div>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="footer">
            © 2025 DNT Network - E-Pos System
        </footer>
    </main>
</div>

<!-- PAYMENT MODAL -->
<div class="modal" id="payment-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('payment-modal')">&times;</span>
        <h2>Pembayaran</h2>
        <div class="pos-summary">
            <div class="pos-summary-row"><span>Subtotal</span><span id="modal-subtotal">Rp 0</span></div>
            <div class="pos-summary-row"><span>Pajak (10%)</span><span id="modal-tax">Rp 0</span></div>
            <div class="pos-summary-row total"><span>Total</span><span id="modal-total">Rp 0</span></div>
        </div>
        <div class="form-group">
            <label>Metode Pembayaran</label>
            <select id="payment-method">
                <option value="Tunai">Tunai</option>
                <option value="QRIS">QRIS</option>
                <option value="Transfer">Transfer Bank</option>
            </select>
        </div>
        <div class="form-group">
            <label>Uang Dibayar (untuk Tunai)</label>
            <input type="number" id="payment-amount" placeholder="0">
        </div>
        <div class="pos-summary-row total"><span>Kembalian</span><span id="payment-change">Rp 0</span></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="processPayment()">Proses Pembayaran</button>
    </div>
</div>

<!-- MENU MODAL -->
<div class="modal" id="menu-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('menu-modal')">&times;</span>
        <h2 id="menu-modal-title">Tambah Menu</h2>
        <form id="menu-form" onsubmit="saveMenuItem(event)">
            <input type="hidden" id="menu-id">
            <div class="form-group">
                <label>Nama Menu</label>
                <input type="text" id="menu-name" required>
            </div>
            <div class="form-group">
                <label>Kategori</label>
                <select id="menu-category" required>
                    <option value="Makanan">Makanan</option>
                    <option value="Minuman">Minuman</option>
                    <option value="Paket">Paket</option>
                </select>
            </div>
            <div class="form-group">
                <label>Harga</label>
                <input type="number" id="menu-price" required>
            </div>
            <div class="form-group">
                <label>Deskripsi</label>
                <textarea id="menu-description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Foto Menu</label>
                <input type="file" id="menu-image" accept="image/*">
                <div id="menu-image-preview" style="margin-top: 0.5rem;"></div>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- TABLE MODAL -->
<div class="modal" id="table-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('table-modal')">&times;</span>
        <h2 id="table-modal-title">Tambah Meja</h2>
        <form id="table-form" onsubmit="saveTable(event)">
            <input type="hidden" id="table-id">
            <div class="form-group">
                <label>Nomor Meja</label>
                <input type="number" id="table-number" required>
            </div>
            <div class="form-group">
                <label>Kapasitas</label>
                <input type="number" id="table-capacity" required>
            </div>
            <div class="form-group">
                <label>Status</label>
                <select id="table-status" required>
                    <option value="available">Tersedia</option>
                    <option value="occupied">Terisi</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- USER MODAL -->
<div class="modal" id="user-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('user-modal')">&times;</span>
        <h2 id="user-modal-title">Tambah Pengguna</h2>
        <form id="user-form" onsubmit="saveUser(event)">
            <input type="hidden" id="user-id">
            <div class="form-group">
                <label>Nama</label>
                <input type="text" id="user-name-input" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="user-email" required>
            </div>
            <div class="form-group">
                <label>Peran</label>
                <select id="user-role" required>
                    <option value="admin">Admin</option>
                    <option value="owner">Owner</option>
                    <option value="cashier">Kasir</option>
                    <option value="kitchen">Dapur</option>
                </select>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="user-password" required>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- INVENTORY MODAL -->
<div class="modal" id="inventory-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('inventory-modal')">&times;</span>
        <h2 id="inventory-modal-title">Tambah Barang</h2>
        <form id="inventory-form" onsubmit="saveInventoryItem(event)">
            <input type="hidden" id="inventory-id">
            <div class="form-group">
                <label>Nama Barang</label>
                <input type="text" id="inventory-name" required>
            </div>
            <div class="form-group">
                <label>Kategori</label>
                <select id="inventory-category" required>
                    <option value="Makanan">Makanan</option>
                    <option value="Minuman">Minuman</option>
                    <option value="Bahan Baku">Bahan Baku</option>
                    <option value="Peralatan">Peralatan</option>
                </select>
            </div>
            <div class="form-group">
                <label>Jumlah</label>
                <input type="number" id="inventory-quantity" required>
            </div>
            <div class="form-group">
                <label>Satuan</label>
                <input type="text" id="inventory-unit" placeholder="kg, liter, pcs, dll">
            </div>
            <div class="form-group">
                <label>Stok Minimum</label>
                <input type="number" id="inventory-min-stock" required>
            </div>
            <div class="form-group">
                <label>Harga Beli</label>
                <input type="number" id="inventory-price" required>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- ASSET MODAL -->
<div class="modal" id="asset-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('asset-modal')">&times;</span>
        <h2 id="asset-modal-title">Tambah Aset</h2>
        <form id="asset-form" onsubmit="saveAsset(event)">
            <input type="hidden" id="asset-id">
            <div class="form-group">
                <label>Nama Aset</label>
                <input type="text" id="asset-name" required>
            </div>
            <div class="form-group">
                <label>Kategori</label>
                <select id="asset-category" required>
                    <option value="Peralatan Dapur">Peralatan Dapur</option>
                    <option value="Furniture">Furniture</option>
                    <option value="Elektronik">Elektronik</option>
                    <option value="Kendaraan">Kendaraan</option>
                    <option value="Lainnya">Lainnya</option>
                </select>
            </div>
            <div class="form-group">
                <label>Jumlah</label>
                <input type="number" id="asset-quantity" required>
            </div>
            <div class="form-group">
                <label>Tanggal Pembelian</label>
                <input type="date" id="asset-purchase-date" required>
            </div>
            <div class="form-group">
                <label>Harga Pembelian</label>
                <input type="number" id="asset-price" required>
            </div>
            <div class="form-group">
                <label>Nilai Saat Ini</label>
                <input type="number" id="asset-current-value" required>
            </div>
            <div class="form-group">
                <label>Lokasi</label>
                <input type="text" id="asset-location" required>
            </div>
            <div class="form-group">
                <label>Status</label>
                <select id="asset-status" required>
                    <option value="Baik">Baik</option>
                    <option value="Rusak Ringan">Rusak Ringan</option>
                    <option value="Rusak Berat">Rusak Berat</option>
                    <option value="Dalam Perbaikan">Dalam Perbaikan</option>
                    <option value="Hilang">Hilang</option>
                </select>
            </div>
            <div class="form-group">
                <label>Jumlah Hilang</label>
                <input type="number" id="asset-lost-quantity" placeholder="0">
            </div>
            <div class="form-group">
                <label>Foto Aset</label>
                <input type="file" id="asset-image" accept="image/*">
                <div id="asset-image-preview" style="margin-top: 0.5rem;"></div>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- STOCK UPDATE MODAL -->
<div class="modal" id="stock-update-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('stock-update-modal')">&times;</span>
        <h2>Update Stok Menu Habis</h2>
        <div id="stock-update-list"></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="saveStockUpdates()">Simpan Perubahan</button>
    </div>
</div>

<!-- TRANSACTION MODAL -->
<div class="modal" id="transaction-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('transaction-modal')">&times;</span>
        <h2>Tambah Transaksi</h2>
        <form id="transaction-form" onsubmit="saveTransaction(event)">
            <div class="form-group">
                <label>Tipe Transaksi</label>
                <select id="transaction-type" required>
                    <option value="income">Pemasukan</option>
                    <option value="expense">Pengeluaran</option>
                </select>
            </div>
            <div class="form-group">
                <label>Kategori</label>
                <select id="transaction-category" required>
                    <option value="Penjualan">Penjualan</option>
                    <option value="Gaji">Gaji</option>
                    <option value="Operasional">Operasional</option>
                    <option value="Bahan Baku">Bahan Baku</option>
                    <option value="Lainnya">Lainnya</option>
                </select>
            </div>
            <div class="form-group">
                <label>Jumlah</label>
                <input type="number" id="transaction-amount" required>
            </div>
            <div class="form-group">
                <label>Deskripsi</label>
                <textarea id="transaction-description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Tanggal</label>
                <input type="date" id="transaction-date" required>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- PAYROLL MODAL -->
<div class="modal" id="payroll-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('payroll-modal')">&times;</span>
        <h2 id="payroll-modal-title">Tambah Gaji</h2>
        <form id="payroll-form" onsubmit="savePayroll(event)">
            <input type="hidden" id="payroll-id">
            <div class="form-group">
                <label>Karyawan</label>
                <select id="payroll-employee" required>
                    <option value="">Pilih Karyawan</option>
                </select>
            </div>
            <div class="form-group">
                <label>Periode</label>
                <input type="month" id="payroll-period" required>
            </div>
            <div class="form-group">
                <label>Gaji Pokok</label>
                <input type="number" id="payroll-base" required>
            </div>
            <div class="form-group">
                <label>Tunjangan</label>
                <input type="number" id="payroll-allowance" value="0">
            </div>
            <div class="form-group">
                <label>Potongan</label>
                <input type="number" id="payroll-deduction" value="0">
            </div>
            <div class="form-group">
                <label>Total Gaji</label>
                <input type="number" id="payroll-total" readonly>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- SHIFT MODAL -->
<div class="modal" id="shift-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('shift-modal')">&times;</span>
        <h2 id="shift-modal-title">Tambah Shift</h2>
        <form id="shift-form" onsubmit="saveShift(event)">
            <input type="hidden" id="shift-id">
            <div class="form-group">
                <label>Nama Shift</label>
                <input type="text" id="shift-name" required>
            </div>
            <div class="form-group">
                <label>Jam Mulai</label>
                <input type="time" id="shift-start" required>
            </div>
            <div class="form-group">
                <label>Jam Selesai</label>
                <input type="time" id="shift-end" required>
            </div>
            <div class="form-group">
                <label>Karyawan</label>
                <div id="shift-employees-list"></div>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- BRANCH MODAL -->
<div class="modal" id="branch-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('branch-modal')">&times;</span>
        <h2 id="branch-modal-title">Tambah Cabang</h2>
        <form id="branch-form" onsubmit="saveBranch(event)">
            <input type="hidden" id="branch-id">
            <div class="form-group">
                <label>Nama Cabang</label>
                <input type="text" id="branch-name" required>
            </div>
            <div class="form-group">
                <label>Alamat</label>
                <textarea id="branch-address" rows="3" required></textarea>
            </div>
            <div class="form-group">
                <label>Telepon</label>
                <input type="tel" id="branch-phone" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="branch-email">
            </div>
            <div class="form-group">
                <label>Manager</label>
                <select id="branch-manager" required>
                    <option value="">Pilih Manager</option>
                </select>
            </div>
            <div class="form-group">
                <label>Status</label>
                <select id="branch-status" required>
                    <option value="active">Aktif</option>
                    <option value="inactive">Tidak Aktif</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan</button>
        </form>
    </div>
</div>

<!-- LICENSE MODALS -->
<div class="modal" id="upgrade-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('upgrade-modal')">&times;</span>
        <h2>Upgrade Paket</h2>
        <div id="upgrade-plans-container"></div>
    </div>
</div>

<div class="modal" id="license-key-modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal('license-key-modal')">&times;</span>
        <h2>Kunci Lisensi</h2>
        <div class="form-group">
            <label>Kunci Lisensi Anda</label>
            <input type="text" id="license-key-display" readonly style="background-color: var(--bg-tertiary);">
        </div>
        <div class="form-group">
            <label>Tanggal Expiry</label>
            <input type="text" id="license-expiry-display" readonly style="background-color: var(--bg-tertiary);">
        </div>
        <button class="btn btn-secondary" onclick="copyLicenseKey()">
            <i data-lucide="copy"></i> Salin Kunci
        </button>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
